<!DOCTYPE html>
<html>
    <head>
        <!--
        ******************************************** NOTICE ********************************************
        This file was generated on [% date %] by running the following command:
        $ [% command %]
        Do not edit this file, modify and re-run the command instead.
        ******************************************** NOTICE ********************************************
        -->
        <script type="text/javascript" src="jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="treeviz.js"></script>
        <script type="text/javascript" src="treelib.js"></script>
        <script type="text/javascript" src="example.js"></script>
        <script type="text/javascript">
            // jQuery
            // [% INSERT jquery-2.1.4.min.js %]

            // tree visualization library
            // [% INSERT treeviz.js %]

            // tree object library
            // [% INSERT treelib.js %]

            // tree as json
            var json;
            try {
                json = JSON.parse('[% tree.get_root.to_js %]');
            }
            catch (SyntaxError) {
                console.warn("Error parsing JSON, probably running unprocessed template");
            }

            // pixels per time unit
            var pptu = parseFloat('[% pix_per_time_unit %]');
            if (! $.isNumeric(pptu) ) {
                pptu = 12.434231807248;
            }

            // x coordinate of present
            var nowx = parseFloat('[% present_x_coord %]');
            if (! $.isNumeric(nowx) ) {
                nowx = 999.999978291582;
            }

            // canvas width
            var width = parseInt('[% width %]');
            if (!$.isNumeric(width)) {
                width = 1200;
            }

            // canvas height
            var height = parseInt('[% height %]');
            if (!$.isNumeric(height)) {
                height = 4475;
            }
        </script>
        <link href="style.css" rel="stylesheet" type="text/css" />
        <style type="text/css">
            [% INSERT style.css %]
        </style>
    </head>
    <body>
        <svg
            id="svgTree"
            version="1.1"
            width="1200"
            height="4475"
            viewBox="0 0 1200 4475"
            xmlns="http://www.w3.org/2000/svg"
            onload="drawSVGTree();">
            <defs>
                <linearGradient
                        id="fadeRight"
                        x1="0%" y1="0%"
                        x2="100%" y2="0%"
                        spreadMethod="pad">
                    <stop offset="0%"   stop-color="#000000" stop-opacity="1"/>
                    <stop offset="100%" stop-color="#FFFFFF" stop-opacity="0"/>
                </linearGradient>
                <linearGradient
                        id="fadeLeft"
                        x1="0%" y1="0%"
                        x2="100%" y2="0%"
                        spreadMethod="pad">
                    <stop offset="0%"   stop-color="#FFFFFF" stop-opacity="0"/>
                    <stop offset="100%" stop-color="#000000" stop-opacity="1"/>
                </linearGradient>
            </defs>
            <script type="text/javascript">
                function drawSVGTree () {
                    var svg = document.getElementById('svgTree');
                    svg.width = width;
                    svg.height = height;
                    svg.viewBox = '0 0 ' + width + ' ' + height;

                    // instantiate the tree object
                    var tree;
                    if (json) {
                        tree = new Tree(json);
                    }
                    else {
                        tree = new Tree(data);
                    }

                    // instantiate the tree drawer
                    var td = new TreeDrawer({
                        svg : svg,
                        pptu : pptu,
                        nowx : nowx,
                        maxWidth: 10
                    });

                    // draw the tree
                    td.drawTree(tree);
                }
            </script>
        </svg>
    </body>
</html>