<!DOCTYPE html>
<html>
    <head>
        <!--
        ******************************************** NOTICE ********************************************
        This file was generated on [% date %] by running the following command:
        $ [% command %]
        Do not edit this file, modify and re-run the command instead.
        ******************************************** NOTICE ********************************************
        -->
        <script type="text/javascript">
            // jQuery
            // [% INSERT 'jquery-2.1.4.min.js' %]

            // tree visualization library
            // [% INSERT 'treeviz.js' %]

            // tree object library
            // [% INSERT 'treelib.js' %]

        </script>
        <style type="text/css">
            [% INSERT style.css %]
        </style>
    </head>
    <body>
        <svg
            id="svgTree"
            version="1.1"
            width="[% width %]"
            height="[% height %]"
            viewBox="0 0 [% width %] [% height %]"
            xmlns="http://www.w3.org/2000/svg"
            onload="drawSVGTree();">
            <defs>
                <linearGradient
                        id="fadeRight"
                        x1="0%" y1="0%"
                        x2="100%" y2="0%"
                        spreadMethod="pad">
                    <stop offset="0%"   stop-color="#000000" stop-opacity="1"/>
                    <stop offset="100%" stop-color="#FFFFFF" stop-opacity="0"/>
                </linearGradient>
                <linearGradient
                        id="fadeLeft"
                        x1="0%" y1="0%"
                        x2="100%" y2="0%"
                        spreadMethod="pad">
                    <stop offset="0%"   stop-color="#FFFFFF" stop-opacity="0"/>
                    <stop offset="100%" stop-color="#000000" stop-opacity="1"/>
                </linearGradient>
            </defs>
            <script type="text/javascript">
                function drawSVGTree () {

                    // instantiate the tree object
                    var tree = new Tree(JSON.parse('[% tree.get_root.to_js %]'));

                    // instantiate the tree drawer
                    var td = new TreeDrawer({
                        svg      : document.getElementById('svgTree'),
                        pptu     : parseFloat('[% pix_per_time_unit %]'),
                        nowx     : parseFloat('[% present_x_coord %]'),
                        maxWidth : 10
                    });

                    // draw the tree
                    td.drawTree(tree);
                }
            </script>
        </svg>
    </body>
</html>
